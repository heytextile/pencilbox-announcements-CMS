<!-- Merry Christmas Banner with Custom Snow Animation -->
<div class="pencilbox-banner christmas-banner" style="position:relative;z-index:1000;">
  <canvas id="snow-canvas" style="position:absolute;top:0;left:0;width:100vw;height:100%;pointer-events:none;z-index:1;"></canvas>
  <div style="position:relative;z-index:2;padding:18px 0 18px 0;text-align:center;font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Arial,sans-serif;font-size:20px;font-weight:700;color:#fff;background:linear-gradient(90deg,#b91c1c 0%,#15803d 100%);box-shadow:0 2px 8px rgba(0,0,0,0.15);letter-spacing:0.5px;text-shadow:0 2px 8px #0008,0 1px 0 #fff2;">
    ðŸŽ„ Merry Christmas from Textile! ðŸŽ„
  </div>
</div>

<!-- Canvas Confetti Library -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<script>
(function() {
  var duration = 15 * 1000;
  var animationEnd = Date.now() + duration;
  var skew = 1;
  var canvas = document.getElementById('snow-canvas');
  if (!canvas) return;
  // Make canvas fill the banner
  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = canvas.parentElement.offsetHeight;
  }
  resizeCanvas();
  window.addEventListener('resize', resizeCanvas);

  function randomInRange(min, max) {
    return Math.random() * (max - min) + min;
  }

  (function frame() {
    var timeLeft = animationEnd - Date.now();
    var ticks = Math.max(200, 500 * (timeLeft / duration));
    skew = Math.max(0.8, skew - 0.001);
    confetti({
      particleCount: 1,
      startVelocity: 0,
      ticks: ticks,
      origin: {
        x: Math.random(),
        y: (Math.random() * skew) - 0.2
      },
      colors: ['#ffffff'],
      shapes: ['circle'],
      gravity: randomInRange(0.4, 0.6),
      scalar: randomInRange(0.4, 1),
      drift: randomInRange(-0.4, 0.4),
      zIndex: 2,
      disableForReducedMotion: true,
      // Use the custom canvas
      resize: true,
      useWorker: true,
      canvas: canvas
    });
    if (timeLeft > 0) {
      requestAnimationFrame(frame);
    }
  })();
})();
</script>
<style>
.christmas-banner {
  width: 100vw;
  margin-left: calc(-50vw + 50%);
  position: relative;
  overflow: hidden;
  min-height: 64px;
}
@media (max-width: 600px) {
  .christmas-banner div {
    font-size: 16px;
    padding: 12px 0;
  }
}
</style>
