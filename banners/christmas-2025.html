<!-- Christmas 2025 Banner - Generic for Multiple Subdomains -->

<div id="christmas-banner-content" style="color:#1CA9E6;display:flex;align-items:center;justify-content:center;font-family:'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;padding:12px 20px;text-shadow:0 0 6px #fff, 0 1px 2px rgba(0,0,0,0.2);position:relative;z-index:1000000;background:none;">
  <div style="font-size:18px;font-weight:700;color:#1CA9E6;text-align:center;">
    ❄️ Merry Christmas from Textile! ⛄️
  </div>
</div>

<!-- Fullscreen overlay for the animation -->
<div id="christmas-overlay" style="
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 999999;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.8s ease-in-out;
  background: linear-gradient(135deg, rgba(0, 100, 0, 0.1) 0%, rgba(139, 0, 0, 0.1) 50%, rgba(255, 215, 0, 0.08) 100%);
  overflow: hidden;
">
</div>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');

.pencilbox-banner {
  padding: 4px 0 !important;
}

#christmas-overlay {
  backdrop-filter: blur(1px);
}
</style>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<script>
(function() {
  // Set up the animation sequence
  setTimeout(() => {
    const overlay = document.getElementById('christmas-overlay');
    
    // Fade in the overlay
    overlay.style.opacity = '1';
    
    // Start the gentle falling snow confetti (Christmas-themed with red, green, gold, and white)
    var duration = 8 * 1000; // Matches the visible duration (slightly longer than hold time)
    var animationEnd = Date.now() + duration;
    var skew = 1;

    function randomInRange(min, max) {
      return Math.random() * (max - min) + min;
    }

    (function frame() {
      var timeLeft = animationEnd - Date.now();
      if (timeLeft <= 0) {
        return;
      }

      var ticks = Math.max(200, 500 * (timeLeft / duration));
      skew = Math.max(0.8, skew - 0.001);

      confetti({
        particleCount: 3, // A few particles per frame for gentle snowfall/confetti feel
        startVelocity: 0,
        ticks: ticks,
        origin: {
          x: Math.random(),
          y: (Math.random() * skew) - 0.2
        },
        colors: ['#ffffff', '#b3e6ff', '#e0f7fa', '#aeefff'], // White and icy blue shades
        shapes: ['circle'], // Only circles for snow/ice effect
        gravity: randomInRange(0.4, 0.6),
        scalar: randomInRange(0.4, 1.2),
        drift: randomInRange(-0.4, 0.4)
      });

      requestAnimationFrame(frame);
    })();

    // Hold for ~6 seconds, then fade out
    setTimeout(() => {
      overlay.style.opacity = '0';
    }, 6000);
    
    // Remove the overlay after fade out completes
    setTimeout(() => {
      overlay.remove();
    }, 7000);
    
  }, 1500); // Start animation 1.5 seconds after banner loads

})();
</script>