!function(){"use strict";const e=location.hostname,s="pb-dismiss-"+e;if(localStorage.getItem(s))return;const t=window.PencilboxBannerConfig||{dismissDays:7},n="https://cdn.jsdelivr.net/gh/heytextile/pencilbox-announcements-cms@latest";fetch(n+"/banners.json").then(e=>e.json()).then(o=>{const c=o.clients[e];let i,r;if("string"==typeof c?(i=c,r=o.defaultDismissDays||t.dismissDays):c&&"object"==typeof c?(i=c.banner,r=void 0!==c.dismissDays?c.dismissDays:o.defaultDismissDays||t.dismissDays):(i=o.default,r=o.defaultDismissDays||t.dismissDays),!i)return;const a=r>0;fetch(n+i).then(e=>e.text()).then(e=>{const t=document.createElement("div");t.className="pencilbox-banner";const n=document.createElement("div");n.innerHTML=e;const o=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),c=Array.from(n.querySelectorAll("script"));t.innerHTML=o+'<div class="banner-close">Ã—</div>',document.body.appendChild(t),setTimeout(()=>t.classList.add("show"),100),c.forEach(e=>{const s=document.createElement("script");e.src?(s.src=e.src,s.async=!1):s.textContent=e.textContent,t.appendChild(s)}),t.querySelector(".banner-close").onclick=()=>{t.classList.remove("show"),setTimeout(()=>t.remove(),500),a&&(localStorage.setItem(s,Date.now()),setTimeout(()=>localStorage.removeItem(s),864e5*r))}}).catch(e=>console.error("Pencilbox banner load error:",e))}).catch(e=>console.error("Pencilbox config load error:",e))}();